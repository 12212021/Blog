### height 100%不起作用
当元素的父级容器的height没有显示指定（即高度由内容决定）并且该元素不是绝对定位，则计算值是auto，auto是没有办法跟百分比相乘的，所以作用无效。
想要容器百分比设定生效，需要用下面的设置
```css
html, body {
    height: 100%;
}
#app {
    height: 100%;
}


/*
使用绝对定位
绝对定位元素的高度计算的是包含块的padding box的尺寸
非绝对定位的高度计算是包含块的content box尺寸
*/
div {
    height: 100%;
    position: absolute
}

```


### z-index作用关系
z-index只和在定位元素（position不是static的元素）在一起的时候才能发挥作用

层叠上下文：stacking context，是html中的一个三维概念，如果一个元素具有层叠上下文，那么该元素在z轴上面就“高人一等”，一个层叠上下文也可能处于其他的层叠上下文中

层叠水平：stacking level，决定了在同一个层叠上下文中元素在z轴上面的显示顺序

层叠顺序规则：决定了一个元素的层叠水平，具体规则如下图所示
![image.png](https://i.loli.net/2019/11/18/Vr8q2gfPsBFivTG.png)

**z-index为负值的时候是无法突破当前层叠上下文小世界的** example

下面的例子中，box dom块中显示的仍然是img图片，img的z-index虽然是负值，但是没有办法突破box这个层叠上下文环境
```html
<div class="box">
    <img src="./1.jpg"/>
</div>

<style>
    .box {
        transform: scale(1);
        background-color: blue;
    }
    .img {
        position: relative;
        z-index: -1;
    }
</style>
```

层叠领域的黄金法则：
- 谁大谁显示：同一个层叠上下文中，元素的层叠水平大的优先显示
- 后来居上：当层叠水平一样的时候，dom流中处于后面的元素覆盖前面的元素

层叠上下文的创建：(z-index不是auto表示z-index的值>=0, 负值z-index不创建层叠上下文)
- 根层叠上下文：可以看成<html>元素
- position为relative或者absolute的元素，当z-index的值不是auto的时候会创建
- 在IE和firefox浏览器下面，position为fixed且z-index不是auto的时候会创建
- position为fixed在WebKit浏览器下（chrome、Safari），自动创建
- css3引入了一些额外属性会创建
  - 元素为flex布局（display:flex | inline-flex）且z-index不是auto
  - 元素的opacity不是1
  - 元素transform不是none
  - 元素的mix-blend-mode不是1
  - 元素的filter不是none
  - 元素的isolation值不是normal
  - 元素的will-change属性为上面的2~6时候（will-change: opacity）
  - 元素的-webkit-overflow-scrolling: touch时



### 父级容器宽高度发生变化
自己元素中设置width、height为百分比，或者用css3 calc函数进行计算宽高度都会发生变化

demo：
```html
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <title>Document</title>
        <style>
            .content {
                height: 200px;
                width: 200px;
            }
        </style>
    </head>
    <body>
        <div class="content">
            <div class="first" style="height: calc(100% - 20px); width: 50%; background-color: green;">
            </div>
        </div>
    </body>
    <script>
        const dom = document.querySelector('.content');
        setTimeout(() => {
            dom.style.height = 600 + 'px';
        }, 3000)
    </script>
</html>
```